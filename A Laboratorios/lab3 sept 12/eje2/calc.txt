/* Main.c file generated by New Project wizard
 *
 * Created:   s√°b. Sept. 1 2018
 * Processor: PIC16F84A
 * Compiler:  MPLAB XC8
 */

#include <xc.h>

#define FRECUENCIA 4000000L

#define delay_us(x){unsigned int us;\
   us = (x) / (12000000 / FRECUENCIA) | 1;\
      while(--us != 0)continue;}

void contador(unsigned int valor);

delay_ms(unsigned int ms){
   unsigned int i;
   do{
      i=4;
      do{
	 delay_us(164);
	 
	 }while(--i);
      }while(--ms);
   };
   
   
void main(void)
 {
    TRISA = 1;
    TRISB = 0;
    
   int n1=0,n2=0,opc=0,r=0;
    
   // Write your code here
   while (1){
      int i=0;
	 while(i<=10){
		//eleccion
	    if(PORTAbits.RA0){
	       i++;
	       contador(i);
	       }
		//suma
	    if(PORTAbits.RA1){
	       n1 = i;
	       opc=1;
	       }
	       
	    //mostrar
	   if(PORTAbits.RA4){
	     n2 = i;
	      switch(opc){
		case 1: 
		  r = n1 + n2;
		  break;
		
		 };
		 contador(r);
	    }
			   
		     
	 };
   };
   
      
 }
 void contador (unsigned int valor){
    delay_ms(50);
    switch(valor){
       case 1: 
	  PORTB = 0b0000110;
	  break;
       case 2: 
	  PORTB = 0b01011011;
	  break;
       case 3: 
	  PORTB = 0b01001111;
	  break;
       case 4: 
	  PORTB = 0b01100110;
	  break;
       case 5: 
	  PORTB = 0b01101101;
	  break;
       case 6: 
	  PORTB = 0b01111101;
	  break;
       case 7: 
	  PORTB = 0b00000111;
	  break;
       case 8: 
	  PORTB = 0b01111111;
	  break;
       case 9: 
	  PORTB = 0b01101111;
	  break;
     case 0: 
	  PORTB = 0b00111111;
	  break;
       default: 
	  PORTB = 0b00000000;
	  break;
       };
    
    }